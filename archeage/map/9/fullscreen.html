<!DOCTYPE html>
<html lang="en">
    
<!-- Mirrored from ongab.ru/archeage/map/9/-1.391342877621x0.91693589760778 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Jul 2021 22:05:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Overworld Map</title>
        <meta name="description" content="Карта" />
        <meta name="keywords" content="карта" />
        <meta name="yandex-verification" content="5c8ad91ed2db1ddf">
        <meta name="yandex-verification" content="7369fb80ca90a598">
        <meta name="google-site-verification" content="k9VhcXPAGVveIivFLR_aAFhjh1w-GRp6M3evky4GcNw">
        <meta name="google-site-verification" content="gAlOI5JiBX5a2J6nV3d0i-c0K7Vj9Dxh9mZF5R69oqY">
        <meta name="google-site-verification" content="Y1yvARtSPAZbbCj2Y5erdR_bMXJtaaevPd83HpqcgTs">
        <meta name="z-payment.label" content="z-payment label E06AC7A55783809702CDE9E2767038D2">
        <link rel="icon" href="../../../html/favicon.png" type="image/png">
        <link rel="apple-touch-icon" href="../../../html/ongab-app-touch-60.png">
        <link sizes="76x76" rel="apple-touch-icon" href="../../../html/ongab-app-touch-76.png">
        <link sizes="120x120" rel="apple-touch-icon" href="../../../html/ongab-app-touch-120.png">
        <link sizes="152x152" rel="apple-touch-icon" href="../../../html/ongab-app-touch-152.png">
        <meta content="/html/ongab-app-touch-152.png" name="msapplication-TileImage">
        <meta content="#00ccff" name="msapplication-TileColor">
        <link rel="stylesheet" href="../../../html/css/bootstrap.min.css">
        <link rel="stylesheet" href="../../../html/css/font-awesome.min.css">
        <link rel="stylesheet" href="../../../html/css/fontello.min.css">
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700,900&amp;subset=latin,cyrillic">
        <link rel="stylesheet" href="../../../html/css/styled3d9.css?10">
    	<link rel="stylesheet" href="../../../inc/fancybox/jquery.fancybox.min8cbb.css?v=2.1.5" media="screen" />
            <link href="../../../html/css/map.css" rel="stylesheet">
    <link href="../../../html/css/owl.carousel.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../html/css/mapfont.css">
        <!--<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>-->
		<script src="../../../inc/jquery.min.js"></script>
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
            <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
            </head>
    <body class="fixedtopbar maincover map eeeeee">
        <!-- <div id="wrapper"> -->
            <!-- <div id="sidebar-wrapper"> -->
    <!-- <div class="sm-wrap">
        <ul class="sidebar-nav">
            <li class="sidebar-brand"><a href="http://ongab.ru/" class="logo"><img src="../../../html/img/logo2_sm.png" alt="Лучшие онлайн игры ONGAB logo"></a></li>
                            <li><a href="http://ongab.ru/groups" data-placement="right" class="hvr-fade odtip" title="Базы онлайн игр"><i class="icon-users-outline"></i><span>Лиги</span></a></li>
                        <li class="hasSubmenu ">
                <b class="hasSubmenub fa fa-plus"></b>
                <a href="http://ongab.ru/games" data-placement="right" class="hvr-fade" title="Играть в онлайн игры"><i class="fa fa-fw fa-gamepad"></i><span>Игры</span></a>
                <ul class="sidebar-sub-nav">
				    <li class="firsth"><a href="http://ongab.ru/games">Каталог онлайн игр</a></li>
                    <li><a title="Каталог онлайн игр" href="http://ongab.ru/games" class="olink"><i class="fa fa-fw fa-gamepad"></i> <span>Каталог онлайн игр</span></a></li>
                    <li><a title="Отзывы об онлайн играх" href="http://ongab.ru/games/reviews" class="olink"><i class="fa fa-fw fa-comments"></i> <span>Отзывы об онлайн играх</span></a></li>
					<li><a href="http://ongab.ru/games/companies" class="olink"><i class="fa fa-fw fa-users"></i> <span>Разработчики и издатели</span></a></li>
				</ul>
            </li>
			<li><a title="Карты онлайн игр" href="http://ongab.ru/maps" class="odtip hvr-fade"><i class="fa fa-map-marker"></i> <span>Карты игр</span></a></li>
            <li><a title="Продать аккаунт \ купить аккаунт" href="http://ongab.ru/market" class="odtip hvr-fade"><i class="fa fa-shopping-cart"></i> <span>Рынок</span></a></li>
            <li><a title="Продать игровые деньги \ купить игровые деньги" href="http://ongab.ru/money" class="odtip hvr-fade"><i class="fa  fa-money"></i> <span>Биржа валют</span></a></li>
            <li class="hasSubmenu">
                <b class="hasSubmenub fa fa-plus"></b>
                <a href="http://ongab.ru/services" data-placement="right" class="hvr-fade" title="Полезное для онлайн игр"><i class="icon-puzzle-outline"></i><span>Полезное</span></a>
                <ul class="sidebar-sub-nav">
				    <li class="firsth"><a href="http://ongab.ru/services">Полезное для онлайн игр</a></li>
                    <li><a title="Карты онлайн игр" href="http://ongab.ru/maps" class="olink"><i class="fa fa-fw fa-map-marker"></i> <span>Карты игр</span></a></li>
                    <li><a title="Соварь сленга онлайн игр" href="http://ongab.ru/dictionary" class="olink"><i class="fa fa-fw fa-book"></i> <span>Игровой словарь</span></a></li>
                    <li><a title="Генератор ников" href="http://ongab.ru/nickname" class="olink"><i class="fa fa-fw fa-text-width"></i> <span>Генератор ников</span></a></li>
                    <li><a title="Игровые аватары" href="http://ongab.ru/avatars" class="olink"><i class="fa fa-fw fa-smile-o"></i> <span>Игровые аватары</span></a></li>
                    <li><a title="Продать аккаунт \ купить аккаунт" href="http://ongab.ru/market" class="olink"><i class="fa fa-fw fa-shopping-cart"></i> <span>Лига торговцев</span></a></li>
                    <li><a title="Продать игровые деньги \ купить игровые деньги" href="http://ongab.ru/money" class="olink"><i class="fa fa-fw fa-money"></i> <span>Биржа игровых денег</span></a></li>
				</ul>
            </li>
			<li><a href="http://ongab.ru/help" data-placement="right" class="odtip hvr-fade" title="Помощь"><i class="icon-info-outline"></i><span>Помощь</span></a></li>
			<li><a href="http://ongab.ru/donate" data-placement="right" class="odtip hvr-fade" title="Заработок пользователей на гайдах"><i class="fa fa-fw fa-usd "></i><span>Заработок</span></a></li>
            <li><a href="http://ongab.ru/people" data-placement="right" class="odtip hvr-fade" title="Рейтинг пользователей"><i class="fa fa-fw fa-user "></i><span>Люди</span></a></li>
			<li><a title="Поиск гайдов и постов" href="http://ongab.ru/html/search_google.php" data-placement="right" class="odtip hvr-fade"><i class="fa fa-fw fa-search"></i> <span>Поиск</span></a></li>
        </ul>
    </div> -->
<!-- </div> -->
<i class="mobileshadow"></i>            <script>
  (function() {
    var cx = '004521581201806758878:eatncuy_fwm';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = '../../../../cse.google.com/cse07b6.html?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
  
  // search in header
$(document).ready(function () {
    $('.searcher_js').click(function() {
		 $(this).toggleClass('active');
		 $('.searchbar').toggleClass('active');  
    });
});
</script>
<style>
.topbar .searchbar {
	overflow: hidden;
    width: 0;
    opacity: 0;
    transition: all .2s ease;
    background: #1a1a1a;
    color: #fff;
    position: absolute;
    top: 0px;
    right: 100%;
    padding: 4px 50px 4px 0;
    z-index: 2;
    margin-right: -38px;
}
.topbar .searchbar.active {
    display: block;
    width: 340px;
    box-shadow: -10px 0px 20px -5px rgba(0, 0, 0, 0.24);
    opacity: 1;
	z-index: 3;
}
.topbar .searcher_js {
	opacity: .5;
	float:left;
	font-size: 20px;
    color: #fff;
    position: relative;
    z-index: 3;
    height: 40px;
    line-height: 37px;
    width: 30px;
    display: inline-block;
}
.topbar .searcher_js:hover {
    opacity: 1;
}
.topbar .doc-srch {
    position: relative;
}
.topbar .searcher {
    top: 7px;
    right: 10px;
    position: absolute;
    color: #fff;
    font-size: 16px;
    cursor: pointer;
}
.topbar .searchbar .searcher-close {
    top: -3px;
    right: -44px;
    position: absolute;
    color: #fff;
    box-shadow: none;
    font-size: 21px;
}
.doc-srch input {
    background: #313131;
    border: 1px solid transparent;
    color: #fff;
    height: 34px;
    padding: 0 10px!important;
}
</style>

<!-- <header class="topbar" id="bar">
    <span class="bartoggle" id="menu-toggle"><i class="icon-menu-outline"></i></span>
    <div class="pull-right" style="position: relative;">
			<a href="#" class="searcher_js">
				<i class="fa fa-search"></i>
			</a>
			<div class="searchbar">
              <div class="doc-srch">
                  <form id="sgf" action="http://ongab.ru/html/search_google.php" method="GET">
                    <input type="text" name="q" placeholder="Искать гайды и посты" class="form-control">
                  </form>
                  <a onclick="$('#sgf').submit();" class="searcher">Go</a>
                <a href="javascript:;" class="searcher-close searcher_js">
                  <i class="fa fa-times"></i>
                </a>
              </div>
            </div>
            <div class="lrb pull-right">
    			<a href="http://ongab.ru/reg" class="btn btn-sm btn-success">Получить аккаунт</a> &nbsp; 
                <a href="http://ongab.ru/login" class="btn btn-sm btn-primary">Войти</a>
    		</div>
            </div>
    <a href="http://ongab.ru/" class="logo2"><img src="../../../html/img/logo3.png" alt="Лучшие онлайн игры ONGAB logo"></a>
    <ol id="breadcumbs" class="breadcrumb hidden-xs">
        <li itemtype="http://data-vocabulary.org/Breadcrumb" itemscope><a itemprop="url" href="http://ongab.ru/"><span itemprop="title">ONGAB</span></a></li>
                                    <li itemtype="http://data-vocabulary.org/Breadcrumb" itemscope><a title="ArcheAge" itemprop="url" href="http://ongab.ru/archeage"><span itemprop="title">ArcheAge</span></a></li>
                            <li itemtype="http://data-vocabulary.org/Breadcrumb" itemscope><a title="Карта" itemprop="url" href="http://ongab.ru/archeage/map"><span itemprop="title">Карта</span></a></li>
                        </ol>
</header>            	 -->
    <!-- <div class="hidden-xs">
        <div style="height: 110px;" class="btopper"></div>
				         
         
		         
        
        <a class="bgad" rel="nofollow" href="http://ongab.ru/go?to=https://ad.admitad.com/g/wciilpgz7a8ac36dff98e62b9cc083/" target="_blank" style="background: #f9f9f9 url(../../../html/img/bgs/dk2.jpg) no-repeat scroll 50% -49px;"></a>'
        
        
				
					
						 
			       
        
    </div> -->
    		    <div class="map_main">
        		    <div id="locinfo"><b>Coordinates:</b> <u>Not inside the map!</u></div>
		    <script>
    function LatToDeg(l) {
    	var zlat = -0.535747
    	var hlat = 0.0573585;
    	var d = (zlat-l)/hlat;
    	var k = 'S';
    	var m = (d%1)*60;
    	if (m%1 >= 0.9) {
    		m = Math.floor(m)+1;
    		s = 0;
    	}
    	else {
    		var s = (m%1)*60;
    		if (s%1 >= 0.9) s = Math.floor(s)+1;
    	}
    	if (d < 0) {
    		d = -d;
    		m = -m;
    		s = -s;
    		k = 'N';
    	}
    	return {'k':k, 'd':Math.floor(d), 'm':Math.floor(m), 's':Math.floor(s)};
    }
    function LngToDeg(l,t) {
    	var zlng = 1.321600;
    	var hlng = 0.057750;
    	var d = (zlng-l)/hlng;
    	var k = 'W';
    	var m = (d%1)*60;
    	if (m%1 >= 0.9) {
    		m = Math.floor(m)+1;
    		s = 0;
    	}
    	else {
    		var s = (m%1)*60;
    		if (s%1 >= 0.9) s = Math.floor(s)+1;
    	}
    	if (d < 0) {
    		d = -d;
    		m = -m;
    		s = -s;
    		k = 'E';
    	}
    	return {'k':k, 'd':Math.floor(d), 'm':Math.floor(m), 's':Math.floor(s)};
    }
    function DegToLat(k,d,m,s) {
    	var l = (d-0)+(m-0)/60+(s-0)/3600;
    	if (k == 'N') l = -l;
    	var zlat = -0.535747;
    	var hlat = 0.0573585;
    	var lat = -l*hlat+zlat;
    	return lat;
    }
    function DegToLng(k,d,m,s) {
    	var l = (d-0)+(m-0)/60+(s-0)/3600;
    	if (k == 'E') l = -l;
    	var zlng = 1.321600;
    	var hlng = 0.057750;
    	var lng = -l*hlng+zlng;
    	return lng;
    }
    function game_latlng_form() {
    	var dlng = LngToDeg(marker.position.lng(),1);
    	var dlat = LatToDeg(marker.position.lat());
    
    	html = '<div class="cinputs">&nbsp; <select style="width:50px; background:#fefefe;" id="dlngk" onChange="marker_move()"><option value="W"'+(dlng['k'] == 'W' ? ' selected' : '')+'>W</option><option value="E"'+(dlng['k'] == 'E' ? ' selected' : '')+'>E</option></select> <input type="text" id="dlngd" onKeyUp="marker_move()" style="width:25px" value="'+dlng['d']+'"> &deg; <input type="text" id="dlngm" style="width:25px" value="'+dlng['m']+'" onKeyUp="marker_move()"> &quot; <input type="text" id="dlngs" style="width:25px" value="'+dlng['s']+'" onKeyUp="marker_move()"> &apos; ';
    	html += ' &nbsp;-&nbsp; <select style="width:50px;background:#fefefe;" id="dlatk" onChange="marker_move()"><option value="S"'+(dlat['k'] == 'S' ? ' selected' : '')+'>S</option><option value="N"'+(dlat['k'] == 'N' ? ' selected' : '')+'>N</option></select> <input type="text" id="dlatd" onKeyUp="marker_move()" style="width:25px" value="'+dlat['d']+'"> &deg; <input type="text" id="dlatm" style="width:25px" value="'+dlat['m']+'" onKeyUp="marker_move()"> &quot; <input type="text" id="dlats" style="width:25px" value="'+dlat['s']+'" onKeyUp="marker_move()"> &apos;</div>';
    
    	return html;
    }
    function game_latlng(lat, lng) {
    	var dlng = LngToDeg(lng-0);
    	var dlat = LatToDeg(lat-0);
    	return '<div class="metkachords"><i class="fa fa-map-marker"></i> '+dlng['k']+dlng['d']+'&deg; '+dlng['m']+'&quot; '+dlng['s']+'&apos; '+dlat['k'] + dlat['d']+'&deg; '+dlat['m']+'&quot; '+dlat['s']+'&apos;</div>';
    }
    function marker_move() {
    	var dlngk = $('#dlngk').val();
    	var dlngd = $('#dlngd').val();
    	var dlngm = $('#dlngm').val();
    	var dlngs = $('#dlngs').val();
    	var dlatk = $('#dlatk').val();
    	var dlatd = $('#dlatd').val();
    	var dlatm = $('#dlatm').val();
    	var dlats = $('#dlats').val();
    	var lng = DegToLng(dlngk,dlngd,dlngm,dlngs);
    	var lat = DegToLat(dlatk,dlatd,dlatm,dlats);
    	$('#icon_lat').val(lat);
        $('#icon_lng').val(lng);
    	marker.setPosition(new google.maps.LatLng(lat,lng));
    }
    
    $(document).ready(function() {
        google.maps.event.addListener(map, 'mousemove', function (event) {
        	var dlng = LngToDeg(event.latLng.lng());
        	var dlat = LatToDeg(event.latLng.lat());
        	document.getElementById('locinfo').innerHTML = '<b>Coordinates:</b> '+dlng['k']+dlng['d']+'&deg; '+dlng['m']+'&quot; '+dlng['s']+'&apos; '+dlat['k'] + dlat['d']+'&deg; '+dlat['m']+'&quot; '+dlat['s']+'&apos;';
        });
    });
</script>				
        <!-- <div class="stream_panel">
            <div id="largenav">
                <div class="top">
                    <div class="map_game_logo">
                        <a class="b_pic" href="http://ongab.ru/archeage" style="float:none" title="ArcheAge">
                            <img alt="ArcheAge" class="png" src="../../../media/league/logo/19.png">
                        </a>
                        <h1>Карта ArcheAge</h1>
                    </div>
                    <form id="sidebar_search" action="#" method="post" onSubmit="markers_search(); return false;">
                        <input type="text" placeholder="Поиск меток" value="" class="form-control" id="search_str">
                        <a href="javascript:;" onclick="$(this).closest('form').submit()" class="fa fa-search"></a>
                    </form>
                    <div id="metkarezult"></div>
                </div>
                <div class="snav scrolled">
                    <div class="tse-content">
                        <div class="header">Метки</div>
                        <ul id="menu_defaults" class="nav nav-pills nav-stacked menu_defaults">
                            <li class="mym" rel="0">
                                <input id="mymetka" type="checkbox" name="my" value=""> 
                                <label class="metkaname" for="mymetka"><span class="fa fa-user"></span> Мои метки</label>
                            </li>
                                                		    <li rel="738">
                    		        <input name="type" type="checkbox" id="738" value="738">
                    		        <label class="metkaname" title="Локации" for="738"><span class="fa famap-map-marker"></span>Локации</label>
                    		                            		            <span class="fa fa-chevron-down mopener"></span>
                    		            <ul class="subm" rel="738">
                        		                                    		                <li rel="1418">
                        		                    <input name="type" type="checkbox" id="1418" value="1418">
                        		                    <label class="metkaname" for="1418"><span class="fa famap-map-marker"></span> Острова</label>
                                                </li>
                                                                                    </ul>
                                                                    </li>
                                                		    <li rel="407">
                    		        <input name="type" type="checkbox" id="407" value="407">
                    		        <label class="metkaname" title="Квесты" for="407"><span class="fa famap-question"></span>Квесты</label>
                    		                                        </li>
                                                		    <li rel="1384">
                    		        <input name="type" type="checkbox" id="1384" value="1384">
                    		        <label class="metkaname" title="Подземелья / Инстансы" for="1384"><span class="fa famap-certificate"></span>Подземелья / Инстансы</label>
                    		                                        </li>
                                                		    <li rel="1114">
                    		        <input name="type" type="checkbox" id="1114" value="1114">
                    		        <label class="metkaname" title="Боссы" for="1114"><span class="fa famap-android"></span>Боссы</label>
                    		                                        </li>
                                                		    <li rel="1407">
                    		        <input name="type" type="checkbox" id="1407" value="1407">
                    		        <label class="metkaname" title="NPC" for="1407"><span class="fa famap-male"></span>NPC</label>
                    		                                        </li>
                                                		    <li rel="724">
                    		        <input name="type" type="checkbox" id="724" value="724">
                    		        <label class="metkaname" title="Ресурсы" for="724"><span class="fa famap-pagelines"></span>Ресурсы</label>
                    		                                        </li>
                                                		    <li rel="1408">
                    		        <input name="type" type="checkbox" id="1408" value="1408">
                    		        <label class="metkaname" title="Предметы" for="1408"><span class="fa famap-flask"></span>Предметы</label>
                    		                                        </li>
                                                		    <li rel="1410">
                    		        <input name="type" type="checkbox" id="1410" value="1410">
                    		        <label class="metkaname" title="Затонувшие корабли" for="1410"><span class="fa famap-crosshairs"></span>Затонувшие корабли</label>
                    		                                        </li>
                                                        <li rel="1">
                                <input name="type" type="checkbox" id="0" value="0"/>
                                <label for="0" class="metkaname" title="Прочее"><span class="fa fa-dot-circle-o"></span>Прочее</label>
                            </li>
                        </ul>
                        <div class="nav-divider"></div>
                        <ul class="nav nav-pills nav-stacked menu_defaults" id="show_hide">
                            <li>
                                <input name="type" type="checkbox" id="show_hide_val" onClick="show_store_marker()" value="0">
                                <label for="show_hide_val" class="metkaname" title="Сохраненные метки"><span class="fa fa-bookmark-o"></span>Сохраненные</label>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="bottom">
                    <div style="text-align:center;">
                            <a class="btn btn-primary odtip" title="Получить ссылку или карту" href="javascript:;" onClick="marker_code();"><i class="fa fa-share"></i> Поделиться</a> 
                            <div id="marker_url" style="display:none">
                                <input type="hidden" class="form-control" id="markers_saved" value="">
                                <input type="hidden" class="form-control" id="markers_ids" value="">
                                <input type="hidden" class="form-control" id="info" value="">
                                <i class="fa fa-times closemu"></i>
                                <h2>Поделиться картой с метками</h2>
                                <div class="marker_url_text">Ссылка на карту</div>
                                <input type="text" class="form-control" id="map_url" value="">
                                <div class="marker_url_text">Код для вставки</div>
                                <textarea class="form-control" id="map_frame"></textarea>
                            </div>
                    </div>
                    <div class="bottomtext">
                        Ongab карты <a href="http://ongab.ru/pm?to=20"><i class="fa fa-fw fa-support"></i> Поддержка</a>
                    </div>
                </div>
            </div>
        </div> -->
        <div id="main_col" style="bottom: 0; left: 0px; position: absolute; right: 0px; top: 0px; z-index: 3">
            <div id="map" style="width: 100%; height: 100%; display: block; position: relative; background-color: rgb(229, 227, 223); overflow: hidden;"></div>
        </div>
    </div>	
</div>
			        </div>
        <div class="modal fade" id="wms" tabindex="-1" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content"></div>
            </div>
        </div>
                <div id="wms2" class="wms-mini wms-top-right">
            <div class="toast wms-success">
                <span onClick="wmsc()" class="wms-close-button">×</span>
                <div class="wms-message"></div>
            </div>
        </div>
                    <div class="wms-don-div" style="display: block">
                <input type="hidden" id="ntl" value="3">
                <script src="../../../inc/bootstrap.min.js"></script>
        <script src="../../../inc/fancybox/jquery.fancybox.pack8cbb.js?v=2.1.5"></script>
        <script src="../../../inc/fancybox/helpers/jquery.fancybox-media.minc924.js?v=1.0.6"></script>
        <script src="../../../inc/func8f14.js?7"></script>
		<script src="../../../inc/ongabtip8f14.js?7"></script>
        	<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
	<script type="text/javascript" src="../../../../google-maps-utility-library-v3.googlecode.com/svn/trunk/infobubble/src/infobubble.html"></script>
    <script type="text/javascript" src="../../../../google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/src/markerclusterer_compiled.html"></script>
	
    <script>
        var adm = 1;
        var coord;
        var marker = {};
        var markers = {};
        var markers_store = {};
        var infowindow = new google.maps.InfoWindow();
        var markerClusterer;
        
        var ongabTypeOptions = {
        	tileSize: new google.maps.Size(256, 256),
            maxZoom: 14,
            minZoom: 9,
            getTileUrl: function(coord, zoom) {
				                                        if (zoom == 9 && coord.x >= 256 && coord.x <= 258 && coord.y >= 256 && coord.y <= 258) {
                        return '/media/map/19/Z9/' + coord.y + '/' + coord.x + '.jpg';
                    }
                                    else                     if (zoom == 10 && coord.x >= 512 && coord.x <= 517 && coord.y >= 512 && coord.y <= 517) {
                        return '/media/map/19/Z10/' + coord.y + '/' + coord.x + '.jpg';
                    }
                                    else                     if (zoom == 11 && coord.x >= 1024 && coord.x <= 1035 && coord.y >= 1024 && coord.y <= 1035) {
                        return '/media/map/19/Z11/' + coord.y + '/' + coord.x + '.jpg';
                    }
                                    else                     if (zoom == 12 && coord.x >= 2048 && coord.x <= 2071 && coord.y >= 2048 && coord.y <= 2071) {
                        return '/media/map/19/Z12/' + coord.y + '/' + coord.x + '.jpg';
                    }
                                    else                     if (zoom == 13 && coord.x >= 4096 && coord.x <= 4143 && coord.y >= 4096 && coord.y <= 4143) {
                        return '/media/map/19/Z13/' + coord.y + '/' + coord.x + '.jpg';
                    }
                                    else                     if (zoom == 14 && coord.x >= 8192 && coord.x <= 8287 && coord.y >= 8192 && coord.y <= 8287) {
                        return '/media/map/19/Z14/' + coord.y + '/' + coord.x + '.jpg';
                    }
                                return '/media/map/19/no.jpg';
            },
            isPng: false
        };

        var ongabMapType = new google.maps.ImageMapType(ongabTypeOptions);
        var myOptions = {
        	center: new google.maps.LatLng(-1.391342877621, 0.91693589760778),
        	zoom: 9,
        	draggableCursor: 'pointer',
        	streetViewControl: false,
        	mapTypeControl: false,
        	mapTypeControlOptions: {
        		mapTypeIds: ['ongab']
        	}
        };
        
        var map = new google.maps.Map(document.getElementById('map'), myOptions);
        map.mapTypes.set('ongab', ongabMapType);
        map.setMapTypeId('ongab');
        
        var fa;
        $.get('/inc/map_icons.json', function(data){
            fa = data;
        },'json');
        
        function marker_window_edit(id) {
            $.ajax({data:{rid:'map',ajax:'edit',data:{'id':id}}}).done(function(m){
        		if (m.err) wms2("PogChamp");
        		else {
            		marker = markers[m.tid][m.id];
            	    marker.tmp = 0;
            	    marker.setOptions({draggable: true});
            	    marker_window_show(m);
        		}
        	});
        }
        function marker_window_create(e) {
            if (marker && marker.tmp == 1) marker.setMap(null);
			
            var tid = 0;
        	if ($('#menu_defaults li.active').length) tid = $('#menu_defaults li.active').attr('rel')-0;
        	var icon_id = (tid ? 0 : 1);

			marker = new google.maps.Marker({
            		    position: e.latLng,
            		    map: map,
            		    icon: null,
            		    draggable: true,
            		    tmp: 1
            		});
			marker_window_show(marker)
			
        	$.ajax({data:{rid:'map',ajax:'create',data:{'lat':e.latLng.lat(),'lng':e.latLng.lng(),'tid':tid,'icon_id':icon_id}}}).done(function(m){
        		if (m.err) wms2(m.err);
        		else {
            		
            		marker_window_show(m);
        		}
        	});
        }
        function marker_window_show(m) {
            var html = '<div id="content" style="width:360px;"><form class="form-horizontal" action="map" name="save">';
        
        
        	html += '<div id="marker_tags" class="well well-sm">';
        	for(var f in fa) html += '<a href="javascript:;" onClick="marker_set_icon({\'path\':'+f+'})"><i class="'+fa[f]['icon']+'"></i></a> ';
        	html += game_latlng_form();
        	html += '</form></div>';
        
        	infowindow.setContent(html);
        	infowindow.id = 0;
        	map_url();
        	infowindow.open(map, marker);
        	google.maps.event.addListenerOnce(infowindow, 'closeclick', function() {
            	if (marker.tmp == 1) marker.setMap(null);
            	else {
                	marker.setOptions({
                    	position: new google.maps.LatLng(m.lat,m.lng),
                    	draggable: false,
                    	icon: icon(m.icon_id,m.icon_color)
                    });
                }
        	});
        	google.maps.event.addListenerOnce(infowindow, 'domready', function() {
            	$.ajax({data:{rid:'map',ajax:'tags',data:{'lid':19}}}).done(function(data){
        			for(var i in data) {
            			$('#mapv3').append('<option value="'+data[i]['id']+'" rel="'+data[i]['icon_id']+'">'+data[i]['tag']+'</option>');
            			if (data[i]['sub']) {
                			for(var j in data[i]['sub']) {
                    			$('#mapv3').append('<option value="'+data[i]['sub'][j]['id']+'" rel="'+data[i]['sub'][j]['icon_id']+'">-- '+data[i]['sub'][j]['tag']+'</option>');
                			}
            			}
        			}
        			$('#mapv4 option[value="'+m.icon_color+'"]').prop('selected', true);
        			if (m.tid > 1) {
        				$('#mapv3 option[value="'+m.tid+'"]').prop('selected', true);
        				$('#marker_tags').hide();
        			}
        		});
        		loader();
        		tips();
        	});
        	google.maps.event.addListener(marker, 'dragend', function (event) {
            	$('#icon_lat').val(event.latLng.lat());
            	$('#icon_lng').val(event.latLng.lng());
            });
        }
        function marker_set_icon(data) {
        	if (marker) var icon = marker.getIcon();
        	else var icon = icon(1);
        	for(var k in data) {
        		if (k == 'path') {
        			icon.id = data[k];
        			data[k] = fa[data[k]]['svg'];
        		}
        		icon[k] = data[k];
        	}
        	marker.setIcon(icon);
        	$('#icon_id').val(icon.id);
        }
        function marker_set_tag() {
        	var tid = $('#mapv3').val();
        	var icon_id = $('#mapv3 option:selected').attr('rel');
        	if (tid > 0) {
        		marker_set_icon({'path':icon_id,'fillColor':'#339dff'});
        		$('#marker_tags').hide();
        		$('#mapv4 option:selected').prop('selected',false);
        	}
        	else {
        		$('#marker_tags').show();
        	}
        }
        function marker_window_content(m) {
        	infowindow.id = m.id;
        	var saved = $('#markers_saved').val();
        	if (saved != '') saved = saved.split(',');
            var html = '<div class="metkadiv">'+game_latlng(m.lat,m.lng)+'<div class="mactions">';
        	//html += '<a href="javascript:;" title="поставить таймер на метку" class="savemarker" onClick="marker_time('+m.tid+','+m.mid+')"><i class="fa fa-clock-o"></i></a>';
        	html += '<a href="/archeage/map/'+map.getZoom()+'/'+m.lat+'x'+m.lng+'?i='+m.id+'" title="ссылка на метку" class="savemarker"><i class="fa fa-map-marker"></i></a>';
        	html += '<a href="javascript:;" title="сохранить метку" class="savemarker'+(saved.indexOf(m.id) != -1 ? ' m_bookmarked' : '')+'" onClick="marker_store('+m.tid+','+m.id+')"><i class="fa fa-bookmark-o"></i></a>';
        	if (adm || m.edit) html += '<a class="odtip" title="изменить" href="javascript:;" onClick="marker_window_edit('+m.id+')"><i class="fa fa-pencil"></i></a>';
        	html += '</div>';
        	/*if (m.k > 1) {
        		html += '<a href="javascript:;" class="markernext" id="dir1" onClick="marker_next('+m.mid+','+m.id+',1)"><i class="fa fa-chevron-right"></i></a>';
        		html += '<a href="javascript:;" class="markerprev" id="dir0" onClick="marker_next('+m.mid+','+m.id+',0)"><i class="fa fa-chevron-left"></i></a>';
        	}*/
            html += '<span class="mtime"><i class="fa fa-clock-o"></i> '+m.data+'</span>';
        	html += '<a class="autor_pic" href="/id'+m.user+'" target="_blank"><img src="/media/user/logo/_35/'+m.logo+'"></a>';
            html += '<h2>'+m.title+'</h2><div class="pintext">'+(m.txt != '' ? m.txt : 'У этой метки еще нет описания')+'</div>';
            if (m.pics != '') {
        		html += '<div class="pinpiks">';
        		if (m.pics != '') {
        			html += '<div class="pinpiksowl">';
        			for(var i in m.pics) html += '<div class="opslide"><a href="/media/blog/com/'+m.pics[i].pic+'" class="fancybox" rel="gal'+m.id+'" title="'+m.pics[i].title+'"><img src="/media/blog/com/_252/'+m.pics[i].pic+'"></a></div>';
        			html += '</div>';
        		}
        		html += '</div>';
        	}
        	html += '</div>';
        	return html;
        }
        function marker_create(c) {
        	if (!markers[c.tid]) markers[c.tid] = {};
        	if (!markers[c.tid][c.id]) {
            	var stoke = (c.txt != '' || c.pics != '' ? 1 : 0);
                markers[c.tid][c.id] = new google.maps.Marker({
                	position: new google.maps.LatLng(c.lat,c.lng),
                	map: map,
                	icon: icon(c.icon_id, c.icon_color, stoke)
                });
        	}
        	google.maps.event.addListener(markers[c.tid][c.id], 'click', function() {
                if (marker && marker.tmp == 1) marker.setMap(null);
                infowindow.close();
        		infowindow.setContent(marker_window_content(c));
        		infowindow.open(map, markers[c.tid][c.id]);
        		map_url();
        		google.maps.event.addListenerOnce(infowindow, 'closeclick', function() {
                	infowindow.id = 0;
                    map_url();
            	});
            	google.maps.event.addListenerOnce(infowindow, 'domready', function() {
            		marker_photo();
            	});
        	});
        }
        function markers_show(type, uid, ids) {
        	$.ajax({async:false,data:{rid:'map',ajax:'markers',data:{'lid':19,'mid':19,'type':type,'uid':uid,'ids':ids}}}).done(function(data){
        		for(var i in data.m) marker_create(data.m[i]);
        		if (data.z) map.setZoom(data.z);
        		if (data.lat && data.lng) map.setCenter(new google.maps.LatLng(data.lat,data.lng));
        	});
        }
        function markers_search() {
        	var s = $('#search_str').val();
        	if (!s) return;
        	for(var t in markers) {
        		for(var i in markers[t]) markers[t][i].setMap(null);
        		delete markers[t];
        	}
        	marker_cluster();
        	$.ajax({data:{rid:'map',ajax:'search',data:{'lid':19,'mid':19,'type':0,'uid':0,'t':s}}}).done(function(data){
        		$('#metkarezult').html('Найдено меток: '+(data.m ? data.m.length : 0));
        		for(var i in data.m) marker_create(data.m[i]);
        		marker_cluster();
        	});
        }
        function marker_save(data) {
        	google.maps.event.clearListeners(infowindow, 'closeclick');
            if (marker && marker.tmp == 1) marker.setMap(null);
            marker_create(data.m);
            infowindow.setContent(marker_window_content(data.m));
            google.maps.event.addListenerOnce(infowindow, 'domready', function() {
        		marker_photo();
        	});
            marker.setOptions({
                draggable: false
            });
            map_url();
            if (data.txt) wms2(data.txt);
        }
        function marker_delete(id) {
        	$.ajax({data:{rid:'map',ajax:'delete',data:{'id':id}}}).done(function(m){
        		if (m.err) wms2(m.err);
        		else {
        			markers[m.tid][m.id].setMap(null);
        			delete markers[m.tid][m.id];
        			marker_cluster();
        		}
        	});
        }
        
        function icon(f, c, s) {
        	return {
        		path: fa[f]['svg'],
        	    scale: (s ? 1.5 : 1.3),
        	    strokeWeight: (s ? 1.0 : 0.9),
        	    strokeColor: 'black',
        	    strokeOpacity: 0.8,
        	    fillColor: (c ? c : '#339dff'),
        	    fillOpacity: (s ? 1.0 : 0.9),
        	    id: f,
        	    anchor: new google.maps.Point(14, 14)
        	};
        }
        
        function marker_photo() {
        	if ($('.pinpiksowl').length) {
        		$('.pinpiksowl').owlCarousel({
        			items : 1,
                    scrollPerPage: true,
                    itemsMobile : [252,1],
                    itemsDesktopSmall : [252,1],
                    itemsTablet : [252,1],
                    navigation : true,
                    pagination : true,
                    navigationText : ['<a href="#" class="msprev"><i class="fa fa-angle-left"></i></a>','<a href="#" class="msnext"><i class="fa fa-angle-right"></i></a>']
        		});
        	}
        }
        
        function marker_cluster() {
        	if (markers) {
        		var x = [];
        		for(var t in markers) {
        			for(var i in markers[t]) x.push(markers[t][i]);
        		}
        		if (markerClusterer) markerClusterer.clearMarkers();
        		        		markerClusterer = new MarkerClusterer(map, x, {maxZoom: 13});
        	}
        }
        function map_url() {
            var data = {};
        	data['z'] = map.getZoom();
        	data['lat'] = map.getCenter().lat();
        	data['lng'] = map.getCenter().lng();
        	data['r'] = [];
        	$('#menu_defaults input:checked').each(function(){
            	if ($(this).val()) data['r'].push($(this).val());
            });
        	data['m'] = [];
        	if (markers) {
        		for(var tid in markers) {
        			if (data['r'].indexOf(tid) != -1) continue;
        			for(var id in markers[tid]) data['m'].push(id);
        		}
        	}
        	data['i'] = (infowindow && infowindow.id ? infowindow.id : 0);
        	        	$.ajax({dataType:'html',data:{rid:'map',ajax:'url',data:data}}).done(function(url){
        		window.history.pushState('', '', url);
        	});
        }
        function marker_code(u) {
        	var url = {};
        	var u = (u ? u : 0);
        	$.ajax({data:{rid:'map',ajax:'code',data:{'link':window.location.href}}}).done(function(url){
        		if (url.txt) wms('Ссылка на карту',url.txt);
        		else {
        			$('#map_url').val(url.link);
        			$('#map_frame').val(url.frame);
        			$('#marker_url').show();
        			wmsc();
        		}
        	});
        }
        function marker_store(tid, id) {
        	$.ajax({data:{rid:'map',ajax:'store',data:{'id':id}}}).done(function(data){
            	if (data.err) wms2(data.err);
            	else {
                	infowindow.id = 0;
                	infowindow.close();
                	var saved = $('#markers_saved').val();
                    if (saved != '') saved = saved.split(',');
                    else saved = [];
                	if (data.add) {
                    	if (!markers_store[tid]) markers_store[tid] = {};
                        markers_store[tid][id] = 1;
                        if (saved.indexOf(id.toString()) == -1) saved.push(id);
                	}
                	else {
                    	markers[tid][id].setMap(null);
                    	delete markers[tid][id];
                    	if (markers_store && markers_store[tid] && markers_store[tid][id]) delete markers_store[tid][id];
                    	var i = saved.indexOf(id.toString());
                    	console.log('s',saved);
                    	if (i != -1) delete saved[i];
                	}
                	$('#markers_saved').val((saved.length > 0 ? saved.join(',') : ''));
                	map_url();
                }
            });
        }
        function show_store_marker() {
        	if (!$('#show_hide_val').prop('checked')) {
        		if (markers_store) {
        			for(var tid in markers_store) {
        				for(var id in markers_store[tid]) {
            				markers[tid][id].setMap(null);
            				delete markers[tid][id];
        				}
        			}
        		}
        	}
        	else {
        		$.ajax({async:false,data:{rid:'map',ajax:'show_store_marker',data:{'lid':19,'mid':19}}}).done(function(data){
            		for(var i in data) {
                		marker_create(data[i]);
                		if (!markers_store[data[i].tid]) markers_store[data[i].tid] = {};
                		markers_store[data[i].tid][data[i].id] = 1;
                    }
            	});
        	}
        	marker_cluster();
        }
        
        function my_maps() {
        	$.ajax({data:{ajax:'my_maps'}}).done(function(txt){
        		wms(txt);
        	});
        }
        
        function initialize() {
        	var a = document.createElement('a');
        	a.href = 'http://ongab.ru/archeage/map';
        	var logo = document.createElement('img');
        	logo.src = '../../../html/img/logo_map.png';
        	// a.appendChild(logo)
        	map.controls[google.maps.ControlPosition.BOTTOM_LEFT].push(a);
        	
        	        	
        	google.maps.event.addListener(map, 'rightclick', function (event) {
        		marker_window_create(event);
        	});
        	map.addListener('zoom_changed', function() {
                map_url();
            });
            map.addListener('dragend', function() {
                map_url();
            });
        	$('#menu_defaults input:checked').each(function(){
            	markers_show($(this).val());
            });
            if ($('#markers_ids').val()) {
                markers_show(0,0,$('#markers_ids').val());
            }
            if ($('#info').val()) {
                $.ajax({data:{rid:'map',ajax:'get',data:{'id':$('#info').val()}}}).done(function(m){
            		if (!markers[m.tid] || !markers[m.tid][m.id]) marker_create(m);
            		infowindow.setContent(marker_window_content(m));
                    infowindow.open(map, markers[m.tid][m.id]);
                    google.maps.event.addListenerOnce(infowindow, 'closeclick', function() {
                    	infowindow.id = 0;
                        map_url();
                	});
                	google.maps.event.addListenerOnce(infowindow, 'domready', function() {
                		marker_photo();
                	});
            	});
            }
        	marker_cluster();
        }
        
        $(document).ready(function() {
        	$('.mopener').click(function() {
        		$('.mopener').removeClass('active');
        		$(this).next('ul.subm').slideToggle('fast');
        		$(this).toggleClass('active');
        	});
        	$('.closemu').click(function() {
        		$('#marker_url').hide('fast');
        	});
        	$('#menu_defaults input').click(function(){
        		var type = $(this).val();
        		var uid = ($(this).prop('name') == 'my' ? 1 : 0);
        		if ($(this).prop('checked') == true) {
        			$(this).parent().addClass('active');
        			markers_show(type, uid);
        		}
        		else {
        			$(this).parent().removeClass('active');
        			if (uid == 1) {
        				var u = $('#uid').val();
        				for(var t in markers) {
        					for(var i in markers[t]) {
        						if (markers[t][i]['u'] == u) {
        							markers[t][i].setMap(null);
        							delete markers[t][i];
        						}
        					}
        				}
        
        			}
        			else {
        				if (markers[type]) {
        					for (var mid in markers[type]) markers[type][mid].setMap(null);
        					delete markers[type];
        				}
        			}
        		}
        		map_url();
        		marker_cluster();
        		if ($('#menu_defaults ul[rel='+type+']').length && $(this).prop('checked') == true) {
        			$('#menu_defaults ul[rel='+type+']').slideDown('fast');
        		}
        	});
        	$("a[rel=marker_txt]").fancybox({
        		arrows : false,
        		maxWidth: 600,
        		'href' : "#marker_txt",
        		helpers: {
        	        title: null
        	    }
        	});
        
        });
        
        google.maps.event.addDomListener(window, 'load', initialize);
    </script>
        <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','../../../../www.google-analytics.com/analytics.js','ga'); 
            ga('create', 'UA-30649393-1', 'ongab.ru');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
            setTimeout("ga('send', 'event', 'read', '20_seconds')", 20000);
        </script>
        <!-- Yandex.Metrika counter --><script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter22030306 = new Ya.Metrika({ id:22030306, clickmap:true, trackLinks:true, accurateTrackBounce:true, webvisor:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "../../../../mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="https://mc.yandex.ru/watch/22030306" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter -->
        <!-- Rating@Mail.ru counter -->
        <script type="text/javascript">    var _tmr = window._tmr || (window._tmr = []);    _tmr.push({id: "2080893", type: "pageView", start: (new Date()).getTime()});    (function (d, w, id) {      if (d.getElementById(id)) return;      var ts = d.createElement("script"); ts.type = "text/javascript"; ts.async = true; ts.id = id;      ts.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//top-fwz1.mail.ru/js/code.js";      var f = function () {var s = d.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ts, s);};      if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); }    })(document, window, "topmailru-code");
        </script><noscript><div style="position:absolute;left:-10000px;">    <img src="http://top-fwz1.mail.ru/counter?id=2080893;js=na" style="border:0;" height="1" width="1" alt="Рейтинг@Mail.ru" />    </div></noscript>
        <!-- //Rating@Mail.ru counter -->
        <!-- Go to www.addthis.com/dashboard to customize your tools -->
        <!-- <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4d88808560028741"></script>-->
		
		<!-- VK Widget ЧАТ -->
		<!--<div id="vk_community_messages"></div>
		<script type="text/javascript">
		VK.Widgets.CommunityMessages("vk_community_messages", 56034957, {disableExpandChatSound: "1",widgetPosition: "left",tooltipButtonText: "Есть вопрос?"});
		</script>-->
		
		<script async src="../../../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
		<script>
			 (adsbygoogle = window.adsbygoogle || []).push({
				  google_ad_client: "ca-pub-7495726504874904",
				  enable_page_level_ads: true
			 });
		</script>
    </body>

<!-- Mirrored from ongab.ru/archeage/map/9/-1.391342877621x0.91693589760778 by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Jul 2021 22:06:14 GMT -->
</html>